<app-blank>
    <flexi-grid 
    [data]="result().data"
    [loading]="loading()"    
    [dataBinding]="false"
    [showCaption]="true"
    [sortable]="true"
    [draggable]="true"
    [resizable]="true"
    captionTitle="Test Data Grid"
    [pageable]="true"
    [filterable]="true"
    [pageSize]="state().pageSize"    
    [themeClass]="shared.themeClass()"
    [sortable]="true"    
    width="98%"
    >
    <flexi-grid-column field="name" [columnTemplate]="nameTemplate" title="Stok Adı"></flexi-grid-column>
    <flexi-grid-column field="sellingPrice" filterType="number" format="n2" title="Satış Fiyatı"></flexi-grid-column>    
    <flexi-grid-column title="Adet" [sortable]="false" [filterable]="false" [columnTemplate]="quantityTemplate"></flexi-grid-column>
    <flexi-grid-column title="Not" [sortable]="false" [filterable]="false" [columnTemplate]="noteTemplate"></flexi-grid-column>
    <flexi-grid-column title="İşlemler" width="100px" [sortable]="false" [filterable]="false" [columnTemplate]="operationsTemplate"></flexi-grid-column>

    <ng-template #nameTemplate let-item="item">
      <a title="Stok Hareketlerini Görüntüle">
        {{item.name}}
      </a>
    </ng-template>    

    <ng-template #quantityTemplate let-item="item" let-index="index">
      <input class="form-control" type="number" [(ngModel)]="item.basketQuantity" />
    </ng-template>

    <ng-template #noteTemplate let-item="item" let-index="index">
      <input class="form-control" [(ngModel)]="item.basketNote" placeholder="Not yazın..." />
    </ng-template>
    
    <ng-template #operationsTemplate let-item="item" let-index="index">
      <button class="btn btn-outline-success btn-sm" title="Sepete Ekle">
        <i class="fa-solid fa-cart-plus"></i>
      </button>
    </ng-template>
   </flexi-grid> 
</app-blank>