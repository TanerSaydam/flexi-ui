<div [attr.data-bs-theme]="themeClass" class="flexi-popup-backdrop" [class.visible]="isPopupVisible">
    <div class="flexi-popup-container">
        <div class="flexi-popup-header">
            <span class="flexi-popup-title">{{popupTitle}}</span>
            <flexi-button (click)="closePopup()" [btnColor]="themeClass === 'dark' ? 'dark' : 'default'" icon="close" btnSize="small" />
        </div>
        <div class="flexi-popup-content" [style.width]="width" [style.height]="height">
            <ng-content></ng-content>
        </div>
        @if (showActionButtons) {
        <div class="flexi-popup-actions">
            @if(actionTemplate){
            <ng-container>
                <ng-container *ngTemplateOutlet="actionTemplate.templateRef"></ng-container>
            </ng-container>
            }@else {
            <flexi-button (click)="closePopup()" btnSize="large" [icon]="cancelBtnIcon" btnColor="default" [btnText]="cancelBtnText" />
            <flexi-button (click)="saveChanges()" btnSize="large" [icon]="saveBtnIcon" btnColor="primary" [btnText]="saveBtnText" />
            }
        </div>
        }
    </div>
</div>